/* v42 (Header / Nav enhancements + carryover from v41) */
/* NOTE: File combines prior v41 contents plus new header/nav styles.
   For brevity only NEW / CHANGED blocks for header & nav are near top.
   Rest of v41 pricing & site styles retained. */

/* =============== THEME TOKENS (unchanged) =============== */
:root {
  --color-primary:#2CA01C;
  /* Optional deeper green if desired: uncomment next line and change references
     --color-primary:#258618; */
  --color-primary-alt:#238315;
  --color-primary-deep:#1F6E14;
  --color-secondary:#1B4965;
  --color-secondary-alt:#15374D;
  --color-accent:#E3B32F;
  --color-accent-alt:#FFB500;
  --color-accent-alt-soft:#FFF3CC;
  --color-bg:#F4F6F8;
  --color-bg-alt:#EEF1F4;
  --color-bg-soft:#FFFFFF;
  --color-surface:#FFFFFF;
  --color-border:#D3D9DE;
  --color-border-soft:#E1E5E8;
  --color-text:#2E2E2E;
  --color-muted:#5C6B73;
  --shadow-xs:0 1px 3px rgba(0,0,0,.08);
  --shadow-sm:0 2px 6px -1px rgba(0,0,0,.10);
  --shadow:0 6px 18px -4px rgba(0,0,0,.16);
  --radius-lg:18px;
  --radius:14px;
  --radius-sm:8px;
  --max-width:1180px;
  --font-sans:'Inter',system-ui,-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,sans-serif;
  --font-display:'Montserrat','Inter',system-ui,sans-serif;
  --font-base:16px;
  --font-display-1:clamp(2rem,4.2vw,2.1875rem);
  --font-title:clamp(1.75rem,3vw,2.1rem);
  --font-subtitle:clamp(1.15rem,2vw,1.4rem);
  --font-body:1rem;
  --font-body-lg:1.125rem;
  --font-small:.82rem;
  --font-tiny:.68rem;
  --lh-hero:1.29;
  --lh-tight:1.18;
  --lh-snug:1.28;
  --lh-normal:1.5;
  --space-1:.25rem; --space-2:.5rem; --space-3:.75rem; --space-4:1rem;
  --space-5:1.25rem; --space-6:1.5rem; --space-7:1.75rem; --space-8:2rem;
  --space-10:2.5rem; --space-12:3rem; --space-14:3.5rem; --space-16:4rem; --space-20:5rem;
  --transition:170ms cubic-bezier(.4,0,.2,1);
  --focus-ring:0 0 0 3px rgba(227,179,47,.55);
  --focus-ring-inset:0 0 0 2px #fff,0 0 0 5px rgba(227,179,47,.6);
  --toggle-w:132px; --toggle-h:56px; --toggle-pad:5px; --toggle-knob:46px;
  --toggle-shift:calc(var(--toggle-w) - var(--toggle-knob) - var(--toggle-pad)*2);
}
html[data-theme="dark"] {
  --color-primary:#2CA01C;
  --color-primary-alt:#249116;
  --color-secondary:#82C4E9;
  --color-secondary-alt:#5DAEDC;
  --color-accent:#E3B32F;
  --color-accent-alt:#FFC247;
  --color-accent-alt-soft:#332600;
  --color-bg:#121212;
  --color-bg-alt:#181818;
  --color-bg-soft:#1E1E1E;
  --color-surface:#1E1E1E;
  --color-border:#2A2A2A;
  --color-border-soft:#262626;
  --color-text:#FFFFFF;
  --color-muted:#B0BEC5;
  --focus-ring:0 0 0 3px rgba(227,179,47,.55);
  --focus-ring-inset:0 0 0 2px #181818,0 0 0 5px rgba(227,179,47,.55);
}

/* =============== BASE TYPOGRAPHY (unchanged from v41) =============== */
html { font-size:var(--font-base); scroll-behavior:smooth; }
*,*::before,*::after { box-sizing:border-box; }
body {
  margin:0; font-family:var(--font-sans); font-size:var(--font-body); line-height:var(--lh-normal);
  color:var(--color-text); background:var(--color-bg); -webkit-font-smoothing:antialiased;
  transition:background .45s,color .45s;
}
img { display:block; max-width:100%; height:auto; }
p { margin:0 0 var(--space-5); }
a { color:var(--color-secondary); text-decoration:none; transition:color var(--transition); }
a:hover { text-decoration:underline; }
h1,h2,h3,h4 { font-family:var(--font-display); font-weight:600; line-height:var(--lh-tight); margin:0 0 var(--space-5); letter-spacing:-.01em; }
h1 { font-size:var(--font-display-1); }
h2 { font-size:var(--font-title); }
h3 { font-size:var(--font-subtitle); line-height:var(--lh-snug); }
.lead { font-size:var(--font-body-lg); line-height:1.46; max-width:680px; margin:0 0 var(--space-6); }
.small { font-size:var(--font-small); }
.tiny  { font-size:var(--font-tiny); letter-spacing:.05em; text-transform:uppercase; font-weight:600; }
.center { text-align:center; }
.accent { color:var(--color-accent); }
:focus-visible { outline:none; box-shadow:var(--focus-ring); border-radius:6px; }
.visually-hidden { position:absolute!important; width:1px; height:1px; margin:-1px; padding:0; overflow:hidden; clip:rect(0 0 0 0); white-space:nowrap; border:0; }
.skip-link { position:absolute; top:-40px; left:0; background:#000; color:#fff; padding:.75rem 1rem; z-index:100; font-size:.9rem; }
.skip-link:focus { top:0; }
.container { max-width:var(--max-width); margin:0 auto; padding:0 var(--space-6); }

/* =============== HEADER / NAV (UPDATED) =============== */
.site-header {
  position:sticky; top:0; z-index:80;
  backdrop-filter:saturate(160%) blur(10px);
  background:rgba(255,255,255,.78);
  border-bottom:1px solid var(--color-border);
  transition:background .4s,border-color .4s, box-shadow .4s;
}
html[data-theme="dark"] .site-header { background:rgba(25,25,25,.72); }

.site-header-inner {
  display:grid;
  grid-template-columns:auto 1fr auto;
  align-items:center;
  gap:2rem;
  min-height:74px;
  padding:.35rem 0;
}

.brand {
  display:inline-flex;
  align-items:center;
  gap:.65rem;
  text-decoration:none;
}
.brand-logo { height:52px; width:auto; display:block; }
.brand-text { font-family:var(--font-display); display:flex; align-items:baseline; gap:.25rem; }
.brand-core {
  font-weight:700;
  font-size:1.25rem;
  letter-spacing:.01em;
  color:var(--color-primary);
}
.brand-tail {
  font-weight:500;
  font-size:1.05rem;
  letter-spacing:.01em;
  color:var(--color-primary-alt);
  opacity:.85;
}

.main-nav { position:relative; }
.main-nav ul {
  list-style:none;
  margin:0;
  padding:0;
  display:flex;
  gap:2.15rem;
  align-items:center;
  font-size:.82rem;
  font-weight:500;
}
.nav-link {
  position:relative;
  display:inline-block;
  padding:.35rem 0;
  color:var(--color-text);
  text-decoration:none;
  letter-spacing:.02em;
  transition:color .3s;
}
.nav-link::after {
  content:"";
  position:absolute;
  left:0; bottom:-2px;
  height:2px; width:100%;
  background:linear-gradient(90deg,var(--color-primary),var(--color-secondary));
  transform:scaleX(0);
  transform-origin:left;
  transition:transform .4s cubic-bezier(.65,.05,.36,1);
  border-radius:2px;
}
.nav-link:hover::after,
.nav-link:focus-visible::after { transform:scaleX(1); }
.nav-link[aria-current="true"],
.nav-link.is-active {
  color:var(--color-primary);
  font-weight:600;
}
.nav-link[aria-current="true"]::after,
.nav-link.is-active::after { transform:scaleX(1); }

.nav-toggle {
  display:none;
  background:var(--color-bg-soft);
  border:1px solid var(--color-border);
  border-radius:10px;
  padding:.55rem .75rem;
  cursor:pointer;
  font-size:1rem;
  line-height:1;
  transition:background .3s,border-color .3s;
}
.nav-toggle:hover { background:var(--color-bg-alt); }

.header-actions {
  display:flex;
  align-items:center;
  gap:1rem;
}
.contact-btn {
  padding:.82rem 1.35rem;
  font-weight:600;
  letter-spacing:.04em;
}

.site-header.scrolled {
  box-shadow:0 4px 14px -6px rgba(0,0,0,.22);
}

/* Mobile nav */
@media (max-width:940px){
  .site-header-inner {
    grid-template-columns:auto auto auto;
    gap:1rem;
  }
  .main-nav ul {
    position:absolute;
    top:calc(100% + .75rem);
    left:50%;
    transform:translateX(-50%);
    flex-direction:column;
    background:var(--color-bg-soft);
    padding:1.25rem 1.4rem;
    width:min(90vw,360px);
    border:1px solid var(--color-border);
    border-radius:18px;
    box-shadow:0 18px 48px -14px rgba(0,0,0,.28);
    display:none;
  }
  .main-nav ul.open { display:flex; }
  .nav-toggle { display:inline-block; }
  .main-nav { justify-self:center; }
  .header-actions { justify-self:end; }
}

/* Smaller height on very narrow */
@media (max-width:520px){
  .brand-logo { height:46px; }
  .brand-core { font-size:1.1rem; }
  .brand-tail { font-size:.9rem; }
  .contact-btn { display:none; } /* Optional: hide Contact to reduce crowding */
}

/* =============== THEME TOGGLE MINOR REFINEMENTS =============== */
.theme-toggle-replica {
  width:100px; height:44px;
  --toggle-w:100px; --toggle-h:44px; --toggle-pad:4px; --toggle-knob:34px;
  box-shadow:none;
}
.toggle-env {
  box-shadow:0 3px 8px -2px rgba(0,0,0,.35),0 0 0 1px rgba(0,0,0,.1) inset;
  border-radius:44px;
}
.theme-toggle-replica:hover .toggle-env {
  box-shadow:0 4px 14px -3px rgba(0,0,0,.4),0 0 0 1px rgba(0,0,0,.12) inset;
}

/* =============== BUTTONS (carryover minor adjust) =============== */
.btn {
  --btn-bg:#fff;
  --btn-color:var(--color-secondary);
  --btn-border:var(--color-secondary);
  display:inline-block;
  font-weight:600;
  font-size:.82rem;
  padding:.72rem 1.15rem;
  border:1px solid var(--btn-border);
  border-radius:12px;
  color:var(--btn-color);
  background:var(--btn-bg);
  line-height:1.1;
  cursor:pointer;
  font-family:var(--font-display);
  transition:background .3s,color .3s,box-shadow var(--transition),transform var(--transition);
  text-decoration:none;
  position:relative;
}
.btn.primary { --btn-bg:var(--color-primary); --btn-color:#fff; --btn-border:var(--color-primary); }
.btn.primary:hover { background:var(--color-primary-alt); border-color:var(--color-primary-alt); }
.btn:hover { box-shadow:0 4px 12px -2px rgba(0,0,0,.16); transform:translateY(-2px); text-decoration:none; }
.btn:active { transform:translateY(0); box-shadow:0 2px 6px -1px rgba(0,0,0,.2); }
.btn.full { width:100%; text-align:center; }

/* Keep rest of previous v41 site styles (hero, pricing, add-ons, etc.) */
 /* --- HERO / SECTIONS / PRICING / ADDONS / FAQ / CONTACT / FOOTER / ANIMATIONS ---
      (All unchanged from v41; include your existing v41 CSS blocks here below)
    For brevity, they are omitted in this snippet since only header & nav changed.
    Make sure to keep the entire v41 body of CSS below this comment in your real file.
 */

/* --- BEGIN copy of remaining v41 styles (you already have these) --- */
/* (Paste your existing v41 CSS remainder here if you are merging manually) */
/* For full functionality ensure pricing-dynamic, plan-card, addons, etc. remain. */
/* --- END copy --- */
